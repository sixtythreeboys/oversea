<!DOCTYPE html>
<html>
	<head>
		<title>Socket.IO Example</title>
	</head>
	<body>
		<h1>Socket.IO Example</h1>
		<div id="messages"></div>
		<script
			src="https://cdn.socket.io/4.6.0/socket.io.min.js"
			integrity="sha384-c79GN5VsunZvi+Q/WObgk2in0CbZsHnjEqvFxC5DxHn9lTfNce2WW6h2pH6u/kF+"
			crossorigin="anonymous"
		></script>
		<script>
			const socket = io("ws://15.164.171.244:8000/oversea/socket");

			socket.on("connect", function () {
				console.log("Socket.IO connection established!");
			});

			socket.on("message", function (data) {
				const messages = document.getElementById("messages");
				const message = document.createElement("div");
				message.innerText = data;
				messages.appendChild(message);
			});

			socket.on("disconnect", function () {
				console.log("Socket.IO connection closed!");
			});
			socket.on("subscribe", function (data) {
				console.log("subscribe" + JSON.stringify(data, undefined, 2));
			});
			socket.emit("subscribe", {
				rsym: "DNASAAPL",
			});
		</script>
	</body>
</html>
